<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Dispersal.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Dispersal.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Home</a><ul class="internal"><li><a class="toctext" href="#Examples-1">Examples</a></li><li><a class="toctext" href="#Neighborhood-Rules-1">Neighborhood Rules</a></li><li><a class="toctext" href="#Partial-Neighborhood-Rules-1">Partial Neighborhood Rules</a></li><li><a class="toctext" href="#Dispersal-kernels-1">Dispersal kernels</a></li><li><a class="toctext" href="#Cell-rules-1">Cell rules</a></li><li><a class="toctext" href="#Partial-Rules-1">Partial Rules</a></li><li><a class="toctext" href="#Optimisation-1">Optimisation</a></li></ul></li><li><a class="toctext" href="example/">Examples</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Home</a></li></ul><a class="edit-page" href="https://github.com/cesaraustralia/Dispersal.jl/blob/master/docs/src/index.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Home</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Dispersal.jl-1" href="#Dispersal.jl-1">Dispersal.jl</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.Dispersal" href="#Dispersal.Dispersal"><code>Dispersal.Dispersal</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p><strong>Dispersal</strong></p><p><a href="https://cesaraustralia.github.io/Dispersal.jl/stable"><img src="https://img.shields.io/badge/docs-stable-blue.svg" alt/></a> <a href="https://cesaraustralia.github.io/Dispersal.jl/dev"><img src="https://img.shields.io/badge/docs-dev-blue.svg" alt/></a> <a href="https://travis-ci.org/cesaraustralia/Dispersal.jl"><img src="https://travis-ci.org/cesaraustralia/Dispersal.jl.svg?branch=master" alt="Build Status"/></a> <a href="https://ci.appveyor.com/project/cesaraustralia/dispersal-jl"><img src="https://ci.appveyor.com/api/projects/status/648h30ifo85wnvfk?svg=true" alt="Build status"/></a> <a href="https://coveralls.io/github/cesaraustralia/Dispersal.jl?branch=master"><img src="https://coveralls.io/repos/github/cesaraustralia/Dispersal.jl/badge.svg?branch=master" alt="Coverage Status"/></a> <a href="http://codecov.io/github/cesaraustralia/Dispersal.jl?branch=master"><img src="http://codecov.io/github/cesaraustralia/Dispersal.jl/coverage.svg?branch=master" alt="codecov.io"/></a></p><p><a href="https://github.com/cesaraustralia/Dispersal.jl">Dispersal.jl</a> extends <a href="https://github.com/cesaraustralia/DynamicGrids.jl">DynamicGrids.jl</a> for grid-based simulations of organism dispersal. Dispersal.jl provides a range of simulation rules than can be combined to develop complex organism dispersal models. </p><p>Growth rates, dispersal kernels, Allee effects, and randomised jump and human assisted dispersal rules are provided. These rules can be chained arbitrarily, and custom rules can easily added and combined with the provided set. See the documentation for examples and the lists of included rules.</p><p><a href="https://github.com/cesaraustralia/DynamicGridsInteract.jl">DynamicGridsInteract</a> provides an interactive interface for desktop and online web applications, where complete models (including your custom rules) can be manipulated during live simulations. <a href="https://github.com/cesaraustralia/DynamicGridsGtk.jl">DynamicGridsGtk</a> provides GtkOutput for a simple graphical viewer.</p><p><a href="https://github.com/cesaraustralia/GrowthMaps.jl">GrowthMaps.jl</a> can efficiently generate the layers required for growth rules based on temperature response and stress factors.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cesaraustralia/Dispersal.jl/blob/712c6eb9f3a7dedb28c12975d04f2eb925dd1c3c/src/Dispersal.jl#L3-L34">source</a></section><h2><a class="nav-anchor" id="Examples-1" href="#Examples-1">Examples</a></h2><p>This is the general pattern of running rules in Dispersal.jl.</p><p>We define initial conditions. Then we run a dispersal simulation that combines local and jump dispersal, for three timesteps.</p><pre><code class="language-">using Dispersal

# Define a simple init array the same size as your suitability layer, and seed it.

init = [0  0  0  0  0  0  0;
        0  0  0  0  0  0  0;
        0  0  0  0  0  0  0;
        0  0  0  0  0  0  0;
        0  0  1  0  0  0  0;
        0  0  0  0  0  0  0;
        0  0  0  0  0  0  0]

# Define an array that represents habitat suitability
suitability = [0.5 0.0 0.3 0.0 0.0 0.3 0.0;
               0.0 0.2 0.8 0.0 0.9 0.6 0.0;
               0.0 0.5 1.0 1.0 1.0 0.0 0.0;
               0.0 0.0 1.0 1.0 0.7 0.0 0.0;
               0.0 0.0 0.6 1.0 0.0 0.0 0.0;
               0.0 0.1 0.6 0.0 0.0 0.0 0.0;
               0.0 0.0 0.0 0.0 0.0 0.0 0.7]


# Define the neighborhood, using the dispersal kernel and a radius
hood = DispersalKernel{2}(; formulation=ExponentialKernel(1.0), 
                            distancemethod=CentroidToCentroid())

# Define disersal rules
localdisp = InwardsBinaryDispersal(neighborhood=hood)
jumpdisp = JumpDispersal()
growth = MaskGrowthMap(; layer=suitability)

# Set the output type
output = ArrayOutput(init, 3)

# Run the simulation
sim!(output, Ruleset(localdisp, jumpdisp, growth); init=init, tspan=(1, 3))

display(output[1])
display(output[2])
display(output[3])</code></pre><h2><a class="nav-anchor" id="Neighborhood-Rules-1" href="#Neighborhood-Rules-1">Neighborhood Rules</a></h2><p>Rules that consider the neighborhood of cells surrounding the current cell. These disperse inwards to the current cell from the surrounding cell.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.InwardsDispersal" href="#Dispersal.InwardsDispersal"><code>Dispersal.InwardsDispersal</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">abstract type InwardsDispersal &lt;: NeighborhoodRule{R}</code></pre><p>Inwards neighborhood based dispersal models.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cesaraustralia/Dispersal.jl/blob/712c6eb9f3a7dedb28c12975d04f2eb925dd1c3c/src/rules/kernel/inwards.jl#L2-L4">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.InwardsBinaryDispersal" href="#Dispersal.InwardsBinaryDispersal"><code>Dispersal.InwardsBinaryDispersal</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Binary present/absent dispersal within a <a href="#Dispersal.DispersalKernel"><code>DispersalKernel</code></a>.  Inwards dispersal calculates dispersal <em>to</em> the current cell from cells in the neighborhood.</p><p>The current cell is invaded if there is pressure from surrounding cells and suitable habitat. Otherwise it keeps its current state.</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th><th style="text-align: right">Limits</th></tr><tr><td style="text-align: right">neighborhood</td><td style="text-align: right">Normalised proportions of dispersal to surrounding cells</td><td style="text-align: right">DispersalKernel{3,ExponentialKernel{Floa</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">prob_threshold</td><td style="text-align: right">A real number between one and zero</td><td style="text-align: right">0.1</td><td style="text-align: right">(0.0, 1.0)</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L7">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.InwardsPopulationDispersal" href="#Dispersal.InwardsPopulationDispersal"><code>Dispersal.InwardsPopulationDispersal</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Disperses to the current cells from the populations of the surrounding cells, using a dispersal kernel.</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th><th style="text-align: right">Limits</th></tr><tr><td style="text-align: right">neighborhood</td><td style="text-align: right">Normalised proportions of dispersal to surrounding cells</td><td style="text-align: right">DispersalKernel{3,ExponentialKernel{Floa</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L4">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.PoissonInwardsPopulationDispersal" href="#Dispersal.PoissonInwardsPopulationDispersal"><code>Dispersal.PoissonInwardsPopulationDispersal</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Disperses to the current cells from the populations of the surrounding cells, using a dispersal kernel. Dispersal amounts are randomised with a Poisonn distribution.</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th><th style="text-align: right">Limits</th></tr><tr><td style="text-align: right">neighborhood</td><td style="text-align: right">Normalised proportions of dispersal to surrounding cells</td><td style="text-align: right">DispersalKernel{3,ExponentialKernel{Floa</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L5">source</a></section><h3><a class="nav-anchor" id="Distance-methods-1" href="#Distance-methods-1">Distance methods</a></h3><p>Dispersal kernels can be calculated in a number of ways, giving different  properties and dispersal rates due to interactions between the cell size and the dispersal distance.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.DistanceMethod" href="#Dispersal.DistanceMethod"><code>Dispersal.DistanceMethod</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">abstract type DistanceMethod</code></pre><p>Methods for calculating distances and dispersal probabilities between cells in a grid.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cesaraustralia/Dispersal.jl/blob/712c6eb9f3a7dedb28c12975d04f2eb925dd1c3c/src/rules/kernel/common.jl#L93-L95">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.CentroidToArea" href="#Dispersal.CentroidToArea"><code>Dispersal.CentroidToArea</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Calculates probability of dispersal between source cell centroid and destination cell area.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L2">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.CentroidToCentroid" href="#Dispersal.CentroidToCentroid"><code>Dispersal.CentroidToCentroid</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">struct CentroidToCentroid &lt;: DistanceMethod</code></pre><p>Calculates probability of dispersal between source and destination cell centroids This is the obvious, naive method, but it will not handle low grid resolution well.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cesaraustralia/Dispersal.jl/blob/712c6eb9f3a7dedb28c12975d04f2eb925dd1c3c/src/rules/kernel/common.jl#L100-L103">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.AreaToCentroid" href="#Dispersal.AreaToCentroid"><code>Dispersal.AreaToCentroid</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Calculates probability of dispersal between source cell area and destination centroid.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L2">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.AreaToArea" href="#Dispersal.AreaToArea"><code>Dispersal.AreaToArea</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">struct AreaToArea &lt;: DistanceMethod</code></pre><p>Calculates probability of dispersal between source and destination cell areas.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cesaraustralia/Dispersal.jl/blob/712c6eb9f3a7dedb28c12975d04f2eb925dd1c3c/src/rules/kernel/common.jl#L136-L138">source</a></section><h2><a class="nav-anchor" id="Partial-Neighborhood-Rules-1" href="#Partial-Neighborhood-Rules-1">Partial Neighborhood Rules</a></h2><p>Partial neighborhood rules that disperse outwards to the neighborhood  when local populations exist.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.OutwardsDispersal" href="#Dispersal.OutwardsDispersal"><code>Dispersal.OutwardsDispersal</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">abstract type OutwardsDispersal &lt;: PartialNeighborhoodRule{R}</code></pre><p>Extends PartialNeighborhoodRule for outwards dispersal.</p><p>Outwards dispersal calculates dispersal <em>from</em> the current cell to cells in its <a href="@ref"><code>DispersalNeighborhood</code></a>. This should be more efficient than  inwards dispersal when a small number of cells are occupied, but less efficient  when a large proportion of the grid is occupied.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cesaraustralia/Dispersal.jl/blob/712c6eb9f3a7dedb28c12975d04f2eb925dd1c3c/src/rules/kernel/outwards.jl#L2-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.OutwardsBinaryDispersal" href="#Dispersal.OutwardsBinaryDispersal"><code>Dispersal.OutwardsBinaryDispersal</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Cells in the surrounding <a href="@ref"><code>DispersalNeighborhood</code></a> have some propability of  invasion if the current cell is occupied.</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th><th style="text-align: right">Limits</th></tr><tr><td style="text-align: right">neighborhood</td><td style="text-align: right">Normalised proportions of dispersal to surrounding cells</td><td style="text-align: right">DispersalKernel{3,ExponentialKernel{Floa</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">prob_threshold</td><td style="text-align: right">A real number between one and zero</td><td style="text-align: right">0.1</td><td style="text-align: right">(0.0, 1.0)</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L4">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.OutwardsPopulationDispersal" href="#Dispersal.OutwardsPopulationDispersal"><code>Dispersal.OutwardsPopulationDispersal</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Dispersal reduces the current cell population, increasing the populations of the  cells in the surrounding <a href="@ref"><code>DispersalNeighborhood</code></a>.</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th><th style="text-align: right">Limits</th></tr><tr><td style="text-align: right">neighborhood</td><td style="text-align: right">Normalised proportions of dispersal to surrounding cells</td><td style="text-align: right">DispersalKernel{3,ExponentialKernel{Floa</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L4">source</a></section><h2><a class="nav-anchor" id="Dispersal-kernels-1" href="#Dispersal-kernels-1">Dispersal kernels</a></h2><p>Kernels extend <code>DynamicGrids.Neighborhood</code>, and use <code>neighbors()</code> methods.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.DispersalKernel" href="#Dispersal.DispersalKernel"><code>Dispersal.DispersalKernel</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>A neighborhood built from a dispersal kernel function and a cell radius. Can be built directly by passing in the array, radius and overflow arguments, but preferably use the keyword constructor to build the array from a dispersal kernel function.</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th><th style="text-align: right">Limits</th></tr><tr><td style="text-align: right">formulation</td><td style="text-align: right">Kernel formulation object</td><td style="text-align: right">ExponentialKernel{Float64}(1.0)</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">kernel</td><td style="text-align: right">Kernal matrix</td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">cellsize</td><td style="text-align: right">Simulation cell size</td><td style="text-align: right">1.0</td><td style="text-align: right">(0.0, 10.0)</td></tr><tr><td style="text-align: right">distancemethod</td><td style="text-align: right">Method for calculating distance between cells</td><td style="text-align: right">CentroidToCentroid()</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L6">source</a></section><h2><a class="nav-anchor" id="Cell-rules-1" href="#Cell-rules-1">Cell rules</a></h2><p>Rules that simply transform the state of a single cell, ignoring the rest of the grid.</p><h3><a class="nav-anchor" id="Growth-rules-1" href="#Growth-rules-1">Growth rules</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.ExactExponentialGrowth" href="#Dispersal.ExactExponentialGrowth"><code>Dispersal.ExactExponentialGrowth</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Simple fixed exponential growth rate using exact solution.</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th><th style="text-align: right">Limits</th></tr><tr><td style="text-align: right">timestep</td><td style="text-align: right">Timestep converted from sim data. Needs to be separate from rate for DateTime</td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">nsteps</td><td style="text-align: right">The exact nsteps timestep, updated by precalcrule</td><td style="text-align: right">1.0</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">intrinsicrate</td><td style="text-align: right">Intrinsic rate of growth per timestep</td><td style="text-align: right">0.1</td><td style="text-align: right">(0.0, 10.0)</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.ExactLogisticGrowth" href="#Dispersal.ExactLogisticGrowth"><code>Dispersal.ExactLogisticGrowth</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Simple fixed logistic growth rate using exact solution</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th><th style="text-align: right">Limits</th></tr><tr><td style="text-align: right">timestep</td><td style="text-align: right">Timestep converted from sim data. Needs to be separate from rate for DateTime</td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">nsteps</td><td style="text-align: right">The exact nsteps timestep, updated by precalcrule</td><td style="text-align: right">1.0</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">intrinsicrate</td><td style="text-align: right">Intrinsic rate of growth per timestep</td><td style="text-align: right">0.1</td><td style="text-align: right">(0.0, 10.0)</td></tr><tr><td style="text-align: right">carrycap</td><td style="text-align: right">Carrying capacity for each cell. Not currently scaled by area.</td><td style="text-align: right">100000.0</td><td style="text-align: right">(0.0, 1.0e9)</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.ExactExponentialGrowthMap" href="#Dispersal.ExactExponentialGrowthMap"><code>Dispersal.ExactExponentialGrowthMap</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Exponential growth based on a growth rate layer using exact solution.</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th><th style="text-align: right">Limits</th></tr><tr><td style="text-align: right">timestep</td><td style="text-align: right">Timestep converted from sim data. Needs to be separate from rate for DateTime</td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">nsteps</td><td style="text-align: right">The exact nsteps timestep, updated by precalcrule</td><td style="text-align: right">1.0</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">layer</td><td style="text-align: right">Data layer</td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">timeinterp</td><td style="text-align: right">Precalculated interpolation indices</td><td style="text-align: right">1</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.ExactLogisticGrowthMap" href="#Dispersal.ExactLogisticGrowthMap"><code>Dispersal.ExactLogisticGrowthMap</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Logistic growth based on a growth rate layer, using exact solution.</p><p>Saturation only applies with positive growth</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th><th style="text-align: right">Limits</th></tr><tr><td style="text-align: right">timestep</td><td style="text-align: right">Timestep converted from sim data. Needs to be separate from rate for DateTime</td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">nsteps</td><td style="text-align: right">The exact nsteps timestep, updated by precalcrule</td><td style="text-align: right">1.0</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">layer</td><td style="text-align: right">Data layer</td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">timeinterp</td><td style="text-align: right">Precalculated interpolation indices</td><td style="text-align: right">1</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">carrycap</td><td style="text-align: right">Carrying capacity for each cell. Not currently scaled by area.</td><td style="text-align: right">100000.0</td><td style="text-align: right">(0.0, 1.0e9)</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L5">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.MaskGrowthMap" href="#Dispersal.MaskGrowthMap"><code>Dispersal.MaskGrowthMap</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Simple layer mask. Values below a certain threshold are replaced with zero.</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th><th style="text-align: right">Limits</th></tr><tr><td style="text-align: right">timestep</td><td style="text-align: right">Timestep converted from sim data. Needs to be separate from rate for DateTime</td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">nsteps</td><td style="text-align: right">The exact nsteps timestep, updated by precalcrule</td><td style="text-align: right">1.0</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">layer</td><td style="text-align: right">Data layer</td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">timeinterp</td><td style="text-align: right">Precalculated interpolation indices</td><td style="text-align: right">1</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">threshold</td><td style="text-align: right">Minimum viability index.</td><td style="text-align: right">0.5</td><td style="text-align: right">(0.0, 1.0)</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L3">source</a></section><h3><a class="nav-anchor" id="Allee-effects-1" href="#Allee-effects-1">Allee effects</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.AlleeExtinction" href="#Dispersal.AlleeExtinction"><code>Dispersal.AlleeExtinction</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Enforces extinction in a cell with a population below the minimum number of  individuals required to maintain a population. </p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th><th style="text-align: right">Limits</th></tr><tr><td style="text-align: right">minfounders</td><td style="text-align: right">Minimum founding individuals required to to start an ongoing population</td><td style="text-align: right">5.0</td><td style="text-align: right">(1.0, 200.0)</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L5">source</a></section><h2><a class="nav-anchor" id="Partial-Rules-1" href="#Partial-Rules-1">Partial Rules</a></h2><p>These rules only partially update the grid. They often operate only on cells that are currently occupied.</p><h3><a class="nav-anchor" id="Jump-dispersal-1" href="#Jump-dispersal-1">Jump dispersal</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.JumpDispersal" href="#Dispersal.JumpDispersal"><code>Dispersal.JumpDispersal</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Jump dispersal simulates random long distance dispersal events. A random cell within  the spotrange is invaded.  A <a href="@ref"><code>Mask</code></a> rule may be useful  aftwer this rule, as dispersal events may be to anywhere on the grid within the given range.</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th><th style="text-align: right">Limits</th></tr><tr><td style="text-align: right">spotrange</td><td style="text-align: right">A number or Unitful.jl distance with the same units as cellsize</td><td style="text-align: right">30.0</td><td style="text-align: right">(0.0, 100.0)</td></tr><tr><td style="text-align: right">prob_threshold</td><td style="text-align: right">A real number between one and zero</td><td style="text-align: right">0.1</td><td style="text-align: right">(0.0, 1.0)</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L5">source</a></section><h3><a class="nav-anchor" id="Human-driven-dispersal-1" href="#Human-driven-dispersal-1">Human driven dispersal</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.HumanDispersal" href="#Dispersal.HumanDispersal"><code>Dispersal.HumanDispersal</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>HumanDispersal Rules human-driven dispersal patterns using population data.</p><p>Transport connections between grid cells are calculated using distance and human population, modified with the <code>human_exponent</code> and <code>dist_exponent</code> parameters. A shortlist of the most connected cells is selected for use in the simulation.</p><p>The time taken for precalulation will depend on the <code>scale</code> argument. Values above 1 will downsample the grid to improve precalulation time and runtime performance. A high scale value is good for use in a live interface.</p><p><strong>Arguments</strong></p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th><th style="text-align: right">Limits</th></tr><tr><td style="text-align: right">human_pop</td><td style="text-align: right"></td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">cellsize</td><td style="text-align: right"></td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">scale</td><td style="text-align: right"></td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">aggregator</td><td style="text-align: right">A function that aggregates scaled down cells</td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">human_exponent</td><td style="text-align: right">Human population exponent</td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0, 3.0)</td></tr><tr><td style="text-align: right">dist_exponent</td><td style="text-align: right">Distance exponent</td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0, 3.0)</td></tr><tr><td style="text-align: right">dispersalperpop</td><td style="text-align: right">Scales the number of dispersing individuals by human activity (ie population^human_exponent)</td><td style="text-align: right">nothing</td><td style="text-align: right">(0.0, 1.0e-8)</td></tr><tr><td style="text-align: right">max_dispersers</td><td style="text-align: right">Maximum number of dispersers in a dispersal events</td><td style="text-align: right">nothing</td><td style="text-align: right">(50.0, 10000.0)</td></tr><tr><td style="text-align: right">shortlist_len</td><td style="text-align: right">Length of dest shortlist</td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">timestep</td><td style="text-align: right"></td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">dest_shortlists</td><td style="text-align: right"></td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">proportion_covered</td><td style="text-align: right"></td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">dispersal_probs</td><td style="text-align: right"></td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">human_buffer</td><td style="text-align: right"></td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr><tr><td style="text-align: right">dist_buffer</td><td style="text-align: right"></td><td style="text-align: right">nothing</td><td style="text-align: right">(1.0e-7, 1.0)</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L14">source</a></section><h2><a class="nav-anchor" id="Optimisation-1" href="#Optimisation-1">Optimisation</a></h2><p>Dispersal.jl provides optimisation tools for automatically optimising  the parameters of arbitrary rulesets given target data. <a href="#Dispersal.Objective"><code>Objective</code></a>  can be extended to add specific objection functions to transform simulation outputs.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.Parametriser" href="#Dispersal.Parametriser"><code>Dispersal.Parametriser</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">struct Parametriser{RU, OP, OB, TR, L, NR, GS, TSta, TSto, TH, D, TB, PB, RE}</code></pre><p>Parametrizer object to use with Optim.jl or similar</p><p><strong>Arguments</strong></p><p><code>ruleset::Ruleset</code>: simulation ruleset, with <code>init</code> array attached <code>objective::Objective</code>: objective data <code>transform</code>: single argument function to transform targets and predictions before the loss function <code>loss</code>: LossFunctions.jl loss function <code>ngroups</code>: number of replicate simulation <code>groupsize</code>: number of simulations in a group. Larger groups may inprove distributed performance. <code>tstop</code>: length of simulation <code>output</code>: optional output type. By default an ArrayOutput will be generated.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cesaraustralia/Dispersal.jl/blob/712c6eb9f3a7dedb28c12975d04f2eb925dd1c3c/src/optimisation/optimisation.jl#L10-L22">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.Objective" href="#Dispersal.Objective"><code>Dispersal.Objective</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">abstract type Objective</code></pre><p>Objectives map simulation outputs to predictions that can be compared to target data using a loss function.</p><p>They must implement <a href="@ref"><code>simpredictions</code></a>and <a href="#Dispersal.targets"><code>targets</code></a> methods.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cesaraustralia/Dispersal.jl/blob/712c6eb9f3a7dedb28c12975d04f2eb925dd1c3c/src/optimisation/objectives.jl#L1-L6">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.SimpleObjective" href="#Dispersal.SimpleObjective"><code>Dispersal.SimpleObjective</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">struct SimpleObjective{T} &lt;: Dispersal.Objective</code></pre><p>A basic objective that holds a target array uses the final frame of the simulation as the prediction.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cesaraustralia/Dispersal.jl/blob/712c6eb9f3a7dedb28c12975d04f2eb925dd1c3c/src/optimisation/objectives.jl#L25-L28">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.RegionObjective" href="#Dispersal.RegionObjective"><code>Dispersal.RegionObjective</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">struct RegionObjective{DT, RL, OC, FS, S} &lt;: Dispersal.Objective</code></pre><p>Implementation of a loss objective that converts cell data to regional presence/absence and compares to a target of regional occurance data.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cesaraustralia/Dispersal.jl/blob/712c6eb9f3a7dedb28c12975d04f2eb925dd1c3c/src/optimisation/objectives.jl#L82-L86">source</a></section><div class="admonition warning"><div class="admonition-title">Missing docstring.</div><div class="admonition-text"><p>Missing docstring for <code>simpredictions</code>. Check Documenter&#39;s build log for details.</p></div></div><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dispersal.targets" href="#Dispersal.targets"><code>Dispersal.targets</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">targets(obj::Objective)</code></pre><p>Returns a targets array given an Objective. The targets must match the size and dimensions of the prediction array returned by <code>simpredictions</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cesaraustralia/Dispersal.jl/blob/712c6eb9f3a7dedb28c12975d04f2eb925dd1c3c/src/optimisation/objectives.jl#L9-L13">source</a></section><footer><hr/><a class="next" href="example/"><span class="direction">Next</span><span class="title">Examples</span></a></footer></article></body></html>
